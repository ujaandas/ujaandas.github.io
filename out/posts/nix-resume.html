<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Streamlining my Resume with Nix and LaTex | Ujaan Das</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet" />
  <link href="../static/styles.css" rel="stylesheet" />
  <link rel="icon" type="image/x-icon" href="../static/favicon.ico">
</head>

<body class="flex flex-col items-center justify-center align-middle min-h-screen bg-white text-gray-800 font-serif">
  <main class="flex flex-col md:flex-row md:items-start justify-between max-w-3xl mx-auto flex-grow p-6 gap-6">
    <div class="flex-shrink-0 hidden md:flex md:flex-col md:items-start md:mt-10 md:mr-10">
    <img src="../static/pfp.webp" alt="Profile picture" class="w-40 h-auto mb-4" />

    <nav class="hidden md:flex md:flex-col md:gap-2 text-sm">
      <a href="https://github.com/ujaandas" target="_blank" class="flex items-center gap-2 hover:underline">
        <i class="fab fa-github"></i> <p class="text-base">GitHub</p>
      </a>
      <a href="https://linkedin.com/in/ujaandas" target="_blank" class="flex items-center gap-2 hover:underline">
        <i class="fab fa-linkedin"></i> <p class="text-base">LinkedIn</p>
      </a>
      <a href="https://instagram.com/ujaa_das" target="_blank" class="flex items-center gap-2 hover:underline">
        <i class="fab fa-instagram"></i> <p class="text-base">Instagram</p>
      </a>
      <a href="../static/resume.pdf" target="_blank" class="flex items-center gap-2 hover:underline">
        <i class="fas fa-file-alt"></i> <p class="text-base">Resume</p>
      </a>
      <a href="mailto:ujaandas03@gmail.com" target="_blank" class="flex items-center gap-2 hover:underline">
        <i class="fas fa-envelope"></i> <p class="text-base">Email</p>
      </a>
    </nav>
  </div>

    <div class="md:mt-10 w-full">
      <h1 class="text-3xl font-bold mb-4">Streamlining my Resume with Nix and LaTex</h1>
      <article class="article text-lg">
          <p>One of the biggest problems I had with my resume previously was fiddling between different layouts for different positions (i.e; full-stack oriented resume, backend oriented, research oriented, etc...). So, to solve this, I spent the past days transforming my Nix-backed LaTeX resume builder into a fully modular resume generator. Now I can write each content 'block' exactly once (i.e; a single source of truth) and assemble it into any layout I want with Nix.</p>
<p>If you just want the code, check out the <a href="https://github.com/ujaandas/nix-resume">repo</a>.</p>
<h3>Defining Variants and Templates</h3>
<p>I organize variants as Nix attribute sets. Each variant specifies a template file and a map of section names to content files:</p>
<pre><code class="language-nix">variants = {
  a = {
    template = ./src/templates/a.tex;
    sections = {
      &quot;Work Experience&quot; = [
        ./src/content/work/work1.tex
        ./src/content/work/work2.tex
      ];
      &quot;Education&quot; = [
        ./src/content/edu/education.tex
      ];
    };
  };

  b = {
    template = ./src/templates/b.tex;
    sections = {
      &quot;Projects&quot; = [
        ./src/content/projects/proj1.tex
        ./src/content/projects/proj2.tex
      ];
      &quot;Skills&quot; = [
        ./src/content/skills/skills.tex
      ];
    };
  };
};
</code></pre>
<p>By mapping each variant to its own template and section list, I avoid duplicating content across multiple <code>.tex</code> files.</p>
<h3>Parsing and Building</h3>
<p>The core of this system is a small Nix builder in <code>build.nix</code>. It reads the template, finds section markers like <code>\section\*{Work Experience}</code>, and injects the corresponding <code>\input{}</code> lines:</p>
<pre><code class="language-nix">mkDoc =
    templateStr: sections:
    let
      lines = builtins.split &quot;\n&quot; templateStr;
      sectionNames = builtins.attrNames sections;

      inject =
        line:
        let
          matched = builtins.filter (t:
            hasSubstr
              (&quot;\\\\section\\*\\{&quot; + t + &quot;\\}&quot;)
              line)
            sectionNames;
        in
        if matched != [ ] then
          line
          + &quot;\n&quot;
          + builtins.concatStringsSep &quot;\n&quot; (
            map
              (f: &quot;\\input{&quot; + toString f + &quot;}&quot;)
              sections.${builtins.head matched}
          )
        else
          line;

      allLines = builtins.map inject lines;
    in
    builtins.concatStringsSep
      &quot;\n&quot;
      (builtins.filter
        builtins.isString
        allLines);
</code></pre>
<p>This function produces a complete <code>main.tex</code> that <code>latexmk</code> can compile without manual edits.</p>
<p>And that's pretty much it. Now I can set up some CI/CD to automatically deploy different versions of my resume to whereever I so please. Nice!</p>

      </article>
    </div>
  </main>

  <footer class="flex flex-col justify-center text-center text-base text-gray-500 mt-12 mb-4">
    
    <p>Â© 2025 Ujaan Das</p>
  </footer>
</body>

</html>
